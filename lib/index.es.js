import{createElement,Component}from"react";var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};function __extends(e,t){function o(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var __assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function styleInject(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===o&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var css=".Modal_c-modal__3h3dy{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;display:block}.Modal_modal-fade-on-enter__1vxiZ{animation:a both ease-in}@keyframes a{0%{opacity:0}to{opacity:1}}.Modal_modal-fade-on-leave__1jCIY{animation:b both ease-out}@keyframes b{0%{opacity:1}to{opacity:0}}";styleInject(css);var css$1=".Backdrop_c-modal--backdrop__2KsHQ{width:100%;height:100%;background-color:#555;opacity:.75}";styleInject(css$1);var Backdrop$1=function(e){var t=e.backdropStyles,o=e.backdropClassName,n=e.onClose;return createElement("div",{className:"c-modal--backdrop "+(o||""),style:__assign({},t),onClick:n})},css$2=".Window_c-modal--window__2TBkS{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:1;width:652px;height:190px;border-radius:2px;border:none;background-color:#fff;box-shadow:0 1px 4px 0 rgba(41,51,57,.5)}.Window_c-modal--window__2TBkS:focus{outline:none}.Window_c-modal--close__3K9rC{cursor:pointer;background-color:transparent;position:absolute;top:0;right:0;padding:0;width:40px;height:40px;border:none}.Window_c-modal--close__3K9rC:hover:after,.Window_c-modal--close__3K9rC:hover:before{background:#0f0f0f}";styleInject(css$2);var CloseIcon=function(e){return createElement("svg",__assign({xmlns:"http://www.w3.org/2000/svg",baseProfile:"tiny",width:"24",height:"24",fill:"currentColor",color:"#37454D",viewBox:"0 0 24 24"},e),createElement("g",{fill:"#FFF",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"},createElement("path",{d:"M7 17L17 7M17 17L7 7"})))},Window$1=function(e){var t=e.width,o=e.height,n=e.animation,a=e.animationDurationMS,i=e.windowStyles,s=e.windowClassName,r=e.animationState,c=e.showCloseButton,l=e.onClose,d=e.children,p="c-modal--window modal-"+n+"-on-"+r+" "+s,m=__assign({animationDuration:a+"ms",width:t,height:o},i);return createElement("div",{style:m,className:p},c&&createElement("button",{onClick:l,className:"c-modal--close"},createElement(CloseIcon,null)),d)},Modal$1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:!1,animationState:"leave"},t.onEsc=function(e){t.props.closeOnEsc&&27===e.keyCode&&t.props.onClose()},t.onAnimationEnd=function(e){t.props.closeOnEsc&&t.outerDIV.focus(),"leave"===t.state.animationState&&t.setState({isOpen:!1})},t.setModalRef=function(e){t.outerDIV=e},t}return __extends(t,e),t.getDerivedStateFromProps=function(e,t){var o=!t.isOpen&&e.isOpen,n=t.isOpen&&!e.isOpen;return o?{isOpen:!0,animationState:"enter"}:n?{animationState:"leave"}:null},t.prototype.render=function(){var e=this.props,t=e.children,o=e.animationDurationMS,n=e.className,a=e.isBackdrop,i=e.closeOnBackdrop,s=e.onClose,r=e.backdropStyles,c=e.backdropClassName,l=this.state,d=l.isOpen,p=l.animationState;return d?createElement("div",{ref:this.setModalRef,style:{animationDuration:o+"ms"},className:"c-modal modal-fade-on-"+p+" "+n,onAnimationEnd:this.onAnimationEnd,tabIndex:-1,onKeyUp:this.onEsc},a&&createElement(Backdrop$1,{onClose:i?s:void 0,backdropStyles:r,backdropClassName:c}),createElement(Window$1,__assign({animationState:p},this.props),t)):null},t.defaultProps={isOpen:!1,isBackdrop:!0,showCloseButton:!0,closeOnBackdrop:!0,closeOnEsc:!0,width:"500px",height:"300px",animation:"fade",animationDurationMS:300,className:"",windowClassName:"",windowStyles:{},backdropClassName:"",backdropStyles:{}},t}(Component);export{Modal$1 as Modal};
